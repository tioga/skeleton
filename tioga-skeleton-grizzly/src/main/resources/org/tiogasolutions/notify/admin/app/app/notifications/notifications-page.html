<div class="container">

    <div class="row well">
        <form id="product-selection-form" class="form-horizontal" data-bind="submit: showCreateNotification" role="form">
            <div class="form-group">
                <div class="col-sm-2">
                    <label for="domain-select">Domain</label>
                    <select id="domain-select" class="form-control"
                            data-bind="options: domainOptions,
                            value: domain,
                            optionsCaption: 'Select Domain...'">
                    </select>
                </div>
                <div class="col-sm-2">
                    <label for="topic-select">Topic</label>
                    <select id="topic-select" class="form-control"
                            data-bind="options: topicOptions,
                              value: topic,
                              optionsCaption: 'Select Topic...'">
                    </select>
                </div>
                <div class="col-sm-2">
                    <label for="trait-key-select">Trait Key</label>
                    <select id="trait-key-select" class="form-control"
                            data-bind="options: traitKeyOptions,
                                value: traitKey,
                                optionsCaption: 'Select Trait...'">
                    </select>
                </div>
                <div class="col-sm-2">
                    <label for="trait-value-input">Trait Value</label>
                    <input id="trait-value-input" class="form-control" data-bind="value: traitValue"/>
                </div>
                <div class="col-sm-2">
                    <label for="notification-id-input">Notification Id</label>
                    <input id="notification-id-input" class="form-control" data-bind="value: notificationId"/>
                </div>
                <div class="pull-right btn-group" role="group" style="margin-top: 1em; margin-right: 1em">
                    <button class="btn btn-primary" data-bind="click: search">Search</button>

                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
                            <li><a href="#" data-bind="click: showCreateNotification">Create Notification</a></li>
                        </ul>
                    </div>

                </div>
            </div>
        </form>
    </div>

    <div class="container">
        <div class="pull-right" style="margin-right: 15px">
            <div data-bind="with: searchResults">
                <label>Page Size:</label>
                <select class="Page-Size" data-bind="value: dataPager.pageSize, options: dataPager.pageSizeOptions, event: {change: parent.search}"></select>
                    <button type="button" class="btn btn-xs" data-bind="click: previousPage, css: { disabled: dataPager.isFirstPage()}"><i class="fa fa-angle-left"></i></button>
                    <button type="button" class="btn btn-xs" data-bind="click: nextPage, css: {disabled: dataPager.isLastPage()}"><i class="fa fa-angle-right"></i> </button>
            </div>
        </div>
    </div>

    <div class="container" data-bind="with: searchResults">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th class="col-sm-2">Topic</th>
                    <th class="col-sm-1">At</th>
                    <th class="col-sm-5">Summary</th>
                    <th class="col-sm-3">Traits</th>
                    <th class="col-sm-1"></th>
                </tr>
            </thead>
            <tbody data-bind="foreach: notifications">
                <tr>
                    <td class="col-sm-2" data-bind="text: topic"></td>
                    <td class="col-sm-1">
                        <a href="#" data-bind="click: showDetails, clickBubble: false, datetime: createdAt"></a>
                    </td>
                    <td class="col-sm-5" data-bind="text: summary"></td>
                    <td class="col-sm-3" data-bind="text: traitMap"></td>
                    <td class="col-sm-1" >
                        <div>
                            <div data-bind="if: hasException">
                                <i class="fa fa-ellipsis-v"></i>
                                <a href="#" data-bind="click: showException, clickBubble: false"> Exception</a>
                            </div>
                            <div class="dropdown" data-bind="if: hasAttachments">
                                <i class="fa fa-paperclip"></i>
                                <a class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true" href="#">
                                    Attach<span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1" data-bind="foreach: attachments">
                                    <li role="presentation">
                                        <a data-bind="text: name, click: openAttachment" role="menuitem" tabindex="-1" href="#"></a>
                                    </li>
                                </ul>
                            </div>
                            <div class="dropdown" data-bind="if: hasLinks">
                                <i class="fa fa-link"></i>
                                <a class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true" href="#">
                                    Links<span class="caret"></span>
                                </a>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1" data-bind="foreach: links">
                                    <li role="presentation">
                                        <a target="_blank" data-bind="text: name, attr: { href: href}" role="menuitem" tabindex="-1" href="#"></a>
                                    </li>
                                </ul>
                            </div>

                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

</div>